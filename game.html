
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dodge the Blocks</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
        background: #222;
        font-family: Arial, sans-serif;
    }
    #gameCanvas {
        background: #111;
        display: block;
        margin: auto;
        border: 3px solid #fff;
    }
    #score {
        position: absolute;
        top: 10px;
        left: 10px;
        color: white;
        font-size: 24px;
    }
</style>
</head>
<body>

<canvas id="gameCanvas" width="400" height="600"></canvas>
<div id="score">Score: 0</div>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

// Player
let player = {
    x: canvas.width / 2 - 15,
    y: canvas.height - 60,
    width: 30,
    height: 30,
    speed: 5
};

// Blocks
let blocks = [];
let score = 0;
let gameOver = false;

function spawnBlock() {
    const size = 30;
    const x = Math.random() * (canvas.width - size);
    const y = -size;
    const speed = 2 + Math.random() * 3;

    blocks.push({ x, y, width: size, height: size, speed });
}

function updateBlocks() {
    for (let i = blocks.length - 1; i >= 0; i--) {
        blocks[i].y += blocks[i].speed;

        // Remove block if off screen
        if (blocks[i].y > canvas.height) {
            blocks.splice(i, 1);
            score++;
        }

        // Collision detection
        if (
            blocks[i] &&
            player.x < blocks[i].x + blocks[i].width &&
            player.x + player.width > blocks[i].x &&
            player.y < blocks[i].y + blocks[i].height &&
            player.y + player.height > blocks[i].y
        ) {
            gameOver = true;
        }
    }
}

function drawBlocks() {
    ctx.fillStyle = "red";
    blocks.forEach(b => ctx.fillRect(b.x, b.y, b.width, b.height));
}

function drawPlayer() {
    ctx.fillStyle = "cyan";
    ctx.fillRect(player.x, player.y, player.width, player.height);
}

function update() {
    if (gameOver) {
        ctx.fillStyle = "white";
        ctx.font = "40px Arial";
        ctx.fillText("Game Over!", 100, 300);
        return;
    }

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    drawPlayer();
    updateBlocks();
    drawBlocks();

    document.getElementById("score").innerText = "Score: " + score;

    requestAnimationFrame(update);
}

// Movement
document.addEventListener("keydown", e => {
    if (e.key === "ArrowLeft" && player.x > 0) {
        player.x -= player.speed;
    }
    if (e.key === "ArrowRight" && player.x < canvas.width - player.width) {
        player.x += player.speed;
    }
});

// Spawn interval
setInterval(spawnBlock, 700);

update();
</script>

</body>
</html>
